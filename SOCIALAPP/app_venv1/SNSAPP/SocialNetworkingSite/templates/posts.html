<!DOCTYPE html>
{% load staticfiles %}
<html>
    <head>
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/logo.png' %}" />
        <title>
            News-Feed
        </title>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

      <!--Import materialize.css-->
	  <link type="text/css" rel="stylesheet" href="{% static 'css/materialize.min.css' %}" media="screen,projection"/>
      <link rel="stylesheet" href="{% static 'font/material-design-icons/Material-Design-Icons.eot' %}" />
      <link href="{% static 'css/materialize.css' %}" type="text/css" rel="stylesheet" media="screen,projection"/>
      <link href="{% static 'css/style.css' %}" type="text/css" rel="stylesheet" media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

      <style>
  .collapsible-header.active{
  background-color:#26a69a;
  }
  .sticky{
  position:relative;
  top:0;
  }
      </style>
    </head>
    <body>

<div class="navbar-fixed">
<nav class="green z-depth-2" role="navigation">
    <div class="nav-wrapper">
			<div class="container">
	            <a href="#" class="brand-logo brand-logo-small"> <img id="header-logo" alt="Hackers Hub Logo" align="top" src="{% static 'img/logo.png' %}"/>
                <span>Hackers Hub</span></a>
			</div>
      <ul class="right hide-on-med-and-down">
		<li class="active">
			<a href="#" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="News Feed">
				<img align="middle" src="{% static 'img/newspaper.png' %}" alt="newsfeed"/>
			</a>
		</li><!--newsfeed-->
		<li>
			<a href="/profile/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Profile">
				<img align="middle" src="{% static 'img/account-circle.png' %}" alt="account"/>
			</a>
		</li><!--account-->
		<li>
			<a href="/code/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Practice">
				<img align="middle" src="{% static 'img/fitness-center.png' %}" alt="practice"/>
			</a>
		</li> <!--(practice)  fitness center-->
		<li>
			<a href="/find_all_friends/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Find Friends">
				<img align="middle" src="{% static 'img/add.png' %}" alt="find friends"/>
			</a>
		</li>  <!--group-->
		<li>
			<a href="/notifications/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Notifications">
				<img align="middle" src="{% static 'img/notifications.png' %}" alt="notification"/>

			</a>
		</li> <!--notifications  notifications off-->
		<li>
			<a href="/chat/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Chat">
				<img align="middle" src="{% static 'img/forum.png' %}" alt="chat"/>

			</a>
		</li>
		<li>
			<a href="/logout/{{ id }}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Logout">
			<img align="middle" src="{% static 'img/logout.png' %}" alt="logout"/>
			</a>
		</li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
		<li class="active">
			<a href="#" class="waves-effect waves-light">News Feed
				<!--img align="middle" src="newspaper.png" alt="newsfeed"/-->
			</a>
		</li>
        <li>
			<a href="/profile/{{ id }}" class="waves-effect waves-light">Profile
				<!--img align="middle" src="account-circle.png" alt="account"/-->
			</a>
		</li><!--account-->
		<li>
			<a href="/code/{{ id }}" class="waves-effect waves-light">Practice
				<!--img align="middle" src="fitness-center.png" alt="practice"/-->
			</a>
		</li> <!--(practice)  fitness center-->
		<li>
			<a href="/find_all_friends/{{ id }}" class="waves-effect waves-light">Find Friends
				<!--img align="middle" src="add.png" alt="find friends"/-->
			</a>
		</li>  <!--group-->
		<li>
			<a href="/notifications/{{ id }}" class="waves-effect waves-light">Notifications
				<!--img align="middle" src="notifications.png" alt="notification"/-->

			</a>
		</li> <!--notifications  notifications off-->
		<li>
			<a href="/chat/{{ id }}" class="waves-effect waves-light">Chat
				<!--img align="middle" src="forum.png" alt="chat"/-->

			</a>
		</li>
		<li>
			<a href="/logout/{{ id }}" class="waves-effect waves-light">Logout
			<!--img align="middle" src="logout.png" alt="logout"/-->
			</a>
		</li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>
 </div>

<div class="row grey lighten-3">

<!--user logged in details-->
<div class="col l2 m4 hide-on-small-only">
<div id="sidebar" class="sticky">
<div class="card">
            <div class="card-image">
              <img src="{% static 'img/p2.jpg' %}">
            </div>
            <div class="card-content">
				<strong>{{ user.first_name }}</strong>
            </div>
            <!--div class="card-action">
              <a href="#">This is a link</a>
            </div-->
</div>
</div>
</div>

<!--center of the page as new feed-->
 <div class="col l7 m8">
 <div class="container">
 <div class="section">

 <div class="card">
<div class="card-title grey-text"><h4 class="center">Add content here</h4></div>
	<div class="card-content input-field">
		  <i class="material-icons prefix">mode_edit</i>
          <textarea id="icon_prefix2" class="materialize-textarea"></textarea>
          <label id="icon_prefix2">What's on your mind?</label>
    </div>
	<div class="card-action">
    <div class="file-field">
	  <a class="waves-effect waves-teal btn-flat"><input class="file-path validate" type="file">Photo/Video</a>
      <a class="waves-effect waves-teal btn-flat"><input class="file-path validate" type="file">File</a>
	  <a class="waves-effect waves-teal btn-flat">Post <i class="material-icons right">send</i></a>
    </div>
	</div>
 </div>

 <div class="fixed-action-btn" style="bottom: 25px; right: 350px;">
    <a class="btn-floating btn-large red">
      <i class="large material-icons">mode_edit</i>
    </a>
    <ul>
		<li><a data-target="modal4"  data-position="left" data-delay="50" data-tooltip="Attach a File" class="btn-floating tooltipped modal-trigger blue"><i class="material-icons">attach_file</i></a></li>
		<li><a data-target="modal3"  data-position="left" data-delay="50" data-tooltip="Post a video" class="btn-floating tooltipped yellow modal-trigger"><i class="material-icons">theaters</i></a></li>
		<li><a data-target="modal2" data-position="left" data-delay="50" data-tooltip="Post an Image" class="btn-floating tooltipped modal-trigger red"><i class="material-icons">photo</i></a></li>
		<li><a data-target="modal1" data-position="left" data-delay="50" data-tooltip="Add a Text Post" class="btn-floating tooltipped modal-trigger green"><i class="material-icons">format_quote</i></a></li>

    </ul>
  </div>



         <!--div class="my-center"-->
         <!-- Modal Structure for Text Post -->
         <div id="modal1" class="modal modal-close modal-fixed-footer">
           <form action="/post/{{ id }}" method="post"> {% csrf_token %}
             <div class="modal-content">
               <h4 class="center">Write your interest here</h4>
                 <br/>
                 <div class="row">
                   <div class="input-field">
                       <i class="material-icons prefix">mode_edit</i>
                     <textarea id="textarea1" name="textarea" class="materialize-textarea"></textarea>
                     <label for="textarea1">What's on your mind?</label>
                     </div>
                 </div>
             </div>
             <div class="modal-footer">
                <button class="btn modal-action modal-close waves-effect waves-green btn-flat" type="submit" onclick="Materialize.toast('You status has updated', 4000, 'rounded')">Post <i class="material-icons right">send</i></button>
             </div>
           </form>
         </div>


         <!-- Modal Structure for Image Post -->
         <div id="modal2" class="modal modal-close modal-fixed-footer">
           <form action="/post_image/{{ id }}" method="post" enctype="multipart/form-data"> {% csrf_token %}
             <div class="modal-content">
               <h4 class="center">Share images here</h4>
                 <br/>
                 <div class="row">
                   <div class="input-field col s12">
                   <i class="material-icons prefix">photo</i>
				   <label for="textarea1">Write about the Image!</label>
                     <textarea id="textarea1" name="textarea" class="materialize-textarea"></textarea>
                    </div>
                  </div>

				<div class="file-field input-field center">
                    <div class="btn">
                       <i class="material-icons left">photo</i><span>Select Image</span>
                       <input type="file" name="file" accept="image/*" id="file" required="" aria-required="true" />
                    </div>
                 </div>

			</div>
			<div class="modal-footer">
                <button class="modal-action modal-close waves-effect waves-green btn-flat" type="submit" onclick="Materialize.toast('Your image has posted', 4000, 'rounded')">Post image<i class="material-icons right">send</i></button>
             </div>
           </form>
         </div>


          <!--Modal Structure for Video Post -->
         <div id="modal3" class="modal modal-close modal-fixed-footer">
           <form action="/post_video/{{ id }}" method="post" enctype="multipart/form-data"> {% csrf_token %}
             <div class="modal-content">
			 <h4 class="center">Share videos here</h4>
                 <br/>
                 <div class="row">
                   <div class="input-field col s12">
                       <i class="material-icons prefix">theaters</i>
                     <textarea id="textarea1" name="textarea" class="materialize-textarea"></textarea>
                     <label for="textarea1">Write about the Video!</label>
                    </div>
                 </div>
				<div class="file-field input-field">
                    <div class="btn">
                       <i class="material-icons left">theaters</i><span>Select Video</span>
                       <input type="file" name="file" id="file" accept="video/*" required="" aria-required="true" />
                    </div>
				</div>
				</div>
                 <div class="modal-footer modal-fixed-footer">
					<button class="modal-action modal-close waves-effect waves-green btn-flat" type="submit" onclick="Materialize.toast('Your video has posted', 4000, 'rounded')">Post video<i class="material-icons right">send</i></button>
                 </div>
           </form>
         </div>


         <!--Modal Structure for attaching a file post -->
         <div id="modal4" class="modal modal-close modal-fixed-footer">
           <form action="/attach_file/{{ id }}" method="post" enctype="multipart/form-data"> {% csrf_token %}
             <div class="modal-content">
               <h4 class="center">Add the file here</h4>
                 <br/>
                 <div class="row">
                   <div class="input-field col s12">
                       <i class="material-icons prefix">attach_file</i>
                     <textarea id="textarea1" name="textarea" class="materialize-textarea"></textarea>
                     <label for="textarea1">Write about the File!</label>
                       </div>
                     </div>

                 <div class="file-field input-field">
                    <div class="btn">
                       <i class="material-icons left">attach_file</i><span>Select File</span>
                       <input type="file" name="file"  id="file" accept="application/*" required="" aria-required="true" />
					</div>
                 </div>
			</div>
                 <div class="modal-footer modal-fixed-footer">
                     <button class="modal-action modal-close waves-effect waves-green btn-flat" onclick="Materialize.toast('You have posted File!', 4000, 'rounded')" type="submit">Post File<i class="material-icons right">send</i></button>
                 </div>
           </form>
         </div>


         {% include 'post_code.html' %}
               <div class="row">
                   <div class="row">
                       <div class="center">
                           <a class="btn-floating btn-large"><i class="large material-icons deep-orange">info</i></a>
                       </div>
                   </div>
                   <div class="card">
                        <div class="card-content">
                           <div class="row"><span class="card-title">No more posts available</span></div>
                           <p>You'll have more posts in News Feed if you add more friends. But to code is the main goal here.</p>
                        </div>
                       <div class="card-action">
                           <a class="waves-effect waves-teal btn-flat" href="/code/{{ id }}">Go to Practice</a>
                            <a class="waves-effect waves-teal btn-flat" href="/challenges-hackerearth/{{ id }}">Look at Challenges</a>
                       </div>
                   </div>
                  </div>



         <!--/div-->
 </div>
 </div>
 </div>

   <!--side chat bar-->
  <div class="col l3 hide-on-med-and-down">
	<div id="sidebar" class="sticky">
	<ul class="collapsible collection" data-collapsible="expandable">
	 <li class="collection-item avatar">
			<div class="collapsible-header">
				<img src="{% static 'img/p2.jpg' %}" alt="" class="circle">
				<span class="title">User name</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
    <li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle">person</i>
				<span class="title">User 2</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
    <li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle green">face</i>
				<span class="title">Known User</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
	  		</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
    <li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle red">person</i>
				<span class="title">User 44</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
	<li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle yellow">person</i>
				<span class="title">User 44</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
	<li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle blue">face</i>
				<span class="title">User 44</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
		<li class="collection-item avatar">
			<div class="collapsible-header">
				<i class="material-icons circle green">face</i>
				<span class="title">User 44</span>
				<a class="secondary-content"><i class="material-icons">grade</i></a>
			</div>
			<div class="collapsible-body"><p>Lorem ipsum dolor sit amet.sjadbsajkdbjkasbdfj</p></div>
    </li>
	</ul>
	</div>
  </div>

</div>
         <!--Import jQuery before materialize.js-->
         <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
         <script type="text/javascript" src="{% static 'js/codejQuery-2.1.1.min.js' %}"></script>
         <script type="text/javascript" src="{% static 'js/materialize.min.js' %}"></script>
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
         <script src="{% static 'js/ajaxAPIs-jQuery1.11.3.min.js' %}"></script>
         <!-- Compiled and minified CSS -->
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css" />
         <link rel="stylesheet" href="{% static 'css/materialize.min.css' %}" />
         <!-- Compiled and minified JavaScript -->
         <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js"></script>
         <script src="{% static 'js/cloufare-materialize.min.js' %}"></script>
		 <script type="text/javascript" src="{% static 'js/init.js' %}"></script>
         <script type="text/javascript">
             $(document).ready(function() {
             // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
                $('.modal-trigger').leanModal();
              // A setting that changes the collapsible behavior to expandable instead of the default accordion style
                 $('.collapsible').collapsible({ accordion : false });
             });
         </script>


 <script>
  var stickySidebar = $('.sticky');

if (stickySidebar.length > 0) {
  var stickyHeight = stickySidebar.height(),
      sidebarTop = stickySidebar.offset().top;
}

// on scroll move the sidebar
$(window).scroll(function () {
  if (stickySidebar.length > 0) {
    var scrollTop = $(window).scrollTop();

    if (sidebarTop < scrollTop) {
      stickySidebar.css('top', scrollTop - sidebarTop);

      // stop the sticky sidebar at the footer to avoid overlapping
      var sidebarBottom = stickySidebar.offset().top + stickyHeight,
          stickyStop = $('.main-content').offset().top + $('.main-content').height();
      if (stickyStop < sidebarBottom) {
        var stopPosition = $('.main-content').height() - stickyHeight;
        stickySidebar.css('top', stopPosition);
      }
    }
    else {
      stickySidebar.css('top', '0');
    }
  }
});

$(window).resize(function () {
  if (stickySidebar.length > 0) {
    stickyHeight = stickySidebar.height();
  }
});
  </script>

    </body>
</html>